<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HosteliQ - Hostel Management System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/additional-styles.css">
</head>

<body class="no-black-space">
    <div class="app-container">
        <!-- Navigation Header -->
        <nav class="navbar">
            <div class="nav-brand">
                <i class="fas fa-building"></i>
                HosteliQ
            </div>
            <ul class="nav-menu">
                <li><a href="#" class="nav-link active" data-page="dashboard">
                        <i class="fas fa-tachometer-alt"></i>Dashboard
                    </a></li>
                <li><a href="#" class="nav-link" data-page="students">
                        <i class="fas fa-users"></i>Students
                    </a></li>
                <li><a href="#" class="nav-link" data-page="rooms">
                        <i class="fas fa-bed"></i>Rooms
                    </a></li>
                <li><a href="#" class="nav-link" data-page="bookings">
                        <i class="fas fa-calendar-check"></i>Bookings
                    </a></li>
            </ul>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Dashboard Page -->
            <div id="dashboard" class="page active">
                <div class="page-header">
                    <h1><i class="fas fa-tachometer-alt"></i> Dashboard</h1>
                    <p>Welcome to HosteliQ Management System - Your complete hostel management solution</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalStudents">0</h3>
                            <p>Total Students</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-bed"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalRooms">0</h3>
                            <p>Total Rooms</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="activeBookings">0</h3>
                            <p>Active Bookings</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-chart-pie"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="occupancyRate">0%</h3>
                            <p>Occupancy Rate</p>
                        </div>
                    </div>
                </div>

                <!-- Add this to your dashboard page in frontend/index.html -->
                <!-- Insert this after the stats-grid div in your dashboard -->

                <div class="ai-assistant-container">
                    <div class="ai-assistant">
                        <div class="ai-header">
                            <div class="ai-icon">ðŸ¤–</div>
                            <div class="ai-title">
                                <h3>HosteliQ AI Assistant</h3>
                                <p>Ask me anything about the hostel management</p>
                            </div>
                            <button class="ai-toggle" onclick="toggleAIChat()">
                                <i class="fas fa-chevron-down" id="aiToggleIcon"></i>
                            </button>
                        </div>

                        <div class="ai-chat-container" id="aiChatContainer">
                            <div class="ai-chat-messages" id="aiChatMessages">
                                <div class="ai-message">
                                    <div class="ai-avatar">ðŸ¤–</div>
                                    <div class="ai-text">
                                        <p>Hi! I'm your HosteliQ AI assistant. I can help you with:</p>
                                        <ul>
                                            <li>Room availability and recommendations</li>
                                            <li>Student and booking information</li>
                                            <li>Hostel policies and procedures</li>
                                            <li>General hostel management questions</li>
                                        </ul>
                                        <p><strong>Try asking:</strong> "How many available rooms do we have?" or
                                            "What's the occupancy rate?"</p>
                                    </div>
                                </div>
                            </div>

                            <div class="ai-input-container">
                                <input type="text" id="aiChatInput" placeholder="Ask me anything about the hostel..."
                                    onkeypress="handleAIChatKeyPress(event)">
                                <button id="aiSendBtn" onclick="sendAIMessage()" class="ai-send-btn">
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick AI Questions (Optional - for easy testing) -->
                <div class="ai-quick-questions" id="aiQuickQuestions">
                    <h4>ðŸ’¡ Quick Questions:</h4>
                    <div class="quick-question-buttons">
                        <button onclick="askQuickQuestion('How many students are registered?')" class="btn-quick">
                            Total Students
                        </button>
                        <button onclick="askQuickQuestion('Which rooms are available?')" class="btn-quick">
                            Available Rooms
                        </button>
                        <button onclick="askQuickQuestion('What is the current occupancy rate?')" class="btn-quick">
                            Occupancy Rate
                        </button>
                        <button onclick="askQuickQuestion('Show me recent bookings')" class="btn-quick">
                            Recent Bookings
                        </button>
                    </div>
                </div>

                <div class="dashboard-content">
                    <div class="recent-activities">
                        <h3><i class="fas fa-clock"></i> Recent Activities</h3>
                        <div class="activity-list">
                            <p><i class="fas fa-info-circle"></i> System is running smoothly</p>
                            <p><i class="fas fa-check-circle"></i> All services operational</p>
                            <p><i class="fas fa-database"></i> Database connected successfully</p>
                        </div>
                    </div>

                    <div class="quick-actions">
                        <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
                        <div class="action-buttons">
                            <button class="btn btn-primary" onclick="showAddStudentModal()">
                                <i class="fas fa-user-plus"></i> Add Student
                            </button>
                            <button class="btn btn-secondary" onclick="showAddRoomModal()">
                                <i class="fas fa-plus"></i> Add Room
                            </button>
                            <button class="btn btn-success" onclick="showAddBookingModal()">
                                <i class="fas fa-calendar-plus"></i> New Booking
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Students Page -->
            <div id="students" class="page">
                <div class="page-header">
                    <h1><i class="fas fa-users"></i> Students</h1>
                    <p>Manage student registrations and information</p>
                </div>

                <div class="search-filter">
                    <div class="search-box">
                        <input type="text" id="studentSearch"
                            placeholder="       Search students... (try 'computer science first year')">
                        <i class="fas fa-search"></i>
                    </div>
                    <select id="yearFilter">
                        <option value="">All Years</option>
                        <option value="1">1st Year</option>
                        <option value="2">2nd Year</option>
                        <option value="3">3rd Year</option>
                        <option value="4">4th Year</option>
                    </select>
                    <button class="btn btn-primary" onclick="showAddStudentModal()">
                        <i class="fas fa-user-plus"></i> Add Student
                    </button>
                </div>

                <div class="students-count"></div>

                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Student ID</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Course</th>
                                <th>Year</th>
                                <th>Room</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="studentsTableBody">
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Rooms Page -->
            <div id="rooms" class="page">
                <div class="page-header">
                    <h1><i class="fas fa-bed"></i> Rooms</h1>
                    <p>Manage room inventory and availability</p>
                </div>

                <div class="search-filter">
                    <div class="search-box">
                        <input type="text" id="roomSearch"
                            placeholder="      Search rooms... (try 'available single rooms with ac')">
                        <i class="fas fa-search"></i>
                    </div>
                    <select id="statusFilter">
                        <option value="">All Status</option>
                        <option value="Available">Available</option>
                        <option value="Occupied">Occupied</option>
                        <option value="Maintenance">Maintenance</option>
                    </select>
                    <select id="typeFilter">
                        <option value="">All Types</option>
                        <option value="Single">Single</option>
                        <option value="Double">Double</option>
                        <option value="Triple">Triple</option>
                        <option value="Quad">Quad</option>
                    </select>
                    <button class="btn btn-primary" onclick="showAddRoomModal()">
                        <i class="fas fa-plus"></i> Add Room
                    </button>
                </div>

                <div class="rooms-count"></div>

                <div class="rooms-grid" id="roomsGrid">
                </div>
            </div>

            <!-- Bookings Page -->
            <div id="bookings" class="page">
                <div class="page-header">
                    <h1><i class="fas fa-calendar-check"></i> Bookings</h1>
                    <p>Manage accommodation bookings and reservations</p>
                </div>

                <div class="search-filter">
                    <div class="search-box">
                        <input type="text" id="bookingSearch"
                            placeholder="ðŸ¤– Search bookings... (try 'pending semester bookings')">
                        <i class="fas fa-search"></i>
                    </div>
                    <select id="bookingStatusFilter">
                        <option value="">All Status</option>
                        <option value="Pending">Pending</option>
                        <option value="Approved">Approved</option>
                        <option value="Rejected">Rejected</option>
                        <option value="Active">Active</option>
                    </select>
                    <button class="btn btn-primary" onclick="showAddBookingModal()">
                        <i class="fas fa-calendar-plus"></i> New Booking
                    </button>
                </div>

                <div class="bookings-count"></div>

                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Booking ID</th>
                                <th>Student</th>
                                <th>Room</th>
                                <th>Date</th>
                                <th>Duration</th>
                                <th>Status</th>
                                <th>Amount</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="bookingsTableBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <!-- Student Modal -->
    <div id="addStudentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-user-plus"></i> Add New Student</h2>
                <span class="close" onclick="closeModal('addStudentModal')">&times;</span>
            </div>
            <form id="addStudentForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="studentId">Student ID *</label>
                        <input type="text" id="studentId" name="studentId" required>
                    </div>
                    <div class="form-group">
                        <label for="firstName">First Name *</label>
                        <input type="text" id="firstName" name="firstName" required>
                    </div>
                    <div class="form-group">
                        <label for="lastName">Last Name *</label>
                        <input type="text" id="lastName" name="lastName" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone *</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
                    <div class="form-group">
                        <label for="course">Course *</label>
                        <input type="text" id="course" name="course" required>
                    </div>
                    <div class="form-group">
                        <label for="year">Academic Year *</label>
                        <select id="year" name="year" required>
                            <option value="">Select Year</option>
                            <option value="1">1st Year</option>
                            <option value="2">2nd Year</option>
                            <option value="3">3rd Year</option>
                            <option value="4">4th Year</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="gender">Gender *</label>
                        <select id="gender" name="gender" required>
                            <option value="">Select Gender</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary"
                        onclick="closeModal('addStudentModal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Student</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Room Modal -->
    <div id="addRoomModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-plus"></i> Add New Room</h2>
                <span class="close" onclick="closeModal('addRoomModal')">&times;</span>
            </div>
            <form id="addRoomForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="roomNumber">Room Number *</label>
                        <input type="text" id="roomNumber" name="roomNumber" required>
                    </div>
                    <div class="form-group">
                        <label for="floor">Floor *</label>
                        <input type="number" id="floor" name="floor" required>
                    </div>
                    <div class="form-group">
                        <label for="roomType">Room Type *</label>
                        <select id="roomType" name="roomType" required>
                            <option value="">Select Type</option>
                            <option value="Single">Single</option>
                            <option value="Double">Double</option>
                            <option value="Triple">Triple</option>
                            <option value="Quad">Quad</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="capacity">Capacity *</label>
                        <input type="number" id="capacity" name="capacity" min="1" max="4" required>
                    </div>
                    <div class="form-group">
                        <label for="roomGender">Gender Policy *</label>
                        <select id="roomGender" name="gender" required>
                            <option value="">Select Policy</option>
                            <option value="Male">Male Only</option>
                            <option value="Female">Female Only</option>
                            <option value="Mixed">Mixed</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="rent">Monthly Rent (â‚¹) *</label>
                        <input type="number" id="rent" name="rent" required>
                    </div>
                </div>

                <div style="padding: 0 1.5rem;">
                    <label>Facilities</label>
                    <div class="checkbox-group">
                        <label><input type="checkbox" name="facilities" value="WiFi"> WiFi</label>
                        <label><input type="checkbox" name="facilities" value="AC"> Air Conditioning</label>
                        <label><input type="checkbox" name="facilities" value="Attached Bathroom"> Attached
                            Bathroom</label>
                        <label><input type="checkbox" name="facilities" value="Balcony"> Balcony</label>
                        <label><input type="checkbox" name="facilities" value="Study Table"> Study Table</label>
                        <label><input type="checkbox" name="facilities" value="Wardrobe"> Wardrobe</label>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('addRoomModal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Room</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Booking Modal -->
    <div id="addBookingModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-calendar-plus"></i> Create New Booking</h2>
                <span class="close" onclick="closeModal('addBookingModal')">&times;</span>
            </div>
            <form id="addBookingForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="bookingStudentSelect">Student *</label>
                        <select id="bookingStudentSelect" name="studentId" required>
                            <option value="">Select Student</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="bookingRoomSelect">Room *</label>
                        <select id="bookingRoomSelect" name="roomId" required>
                            <option value="">Select Room</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="startDate">Start Date *</label>
                        <input type="date" id="startDate" name="startDate" required>
                    </div>
                    <div class="form-group">
                        <label for="duration">Duration *</label>
                        <select id="duration" name="duration" required>
                            <option value="">Select Duration</option>
                            <option value="Semester">Semester (6 months)</option>
                            <option value="Academic Year">Academic Year (10 months)</option>
                            <option value="Summer">Summer (3 months)</option>
                            <option value="Custom">Custom</option>
                        </select>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary"
                        onclick="closeModal('addBookingModal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Create Booking</button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/script.js"></script>
</body>

</html>